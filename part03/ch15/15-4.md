# [ê°€ì‚¬ ê²€ìƒ‰](https://programmers.co.kr/learn/courses/30/lessons/60060)

## ë¬¸ì œ ì„¤ëª…

## ì•„ì´ë””ì–´

* queries ì— ì£¼ì–´ì§„ í‚¤ì›Œë“œë¥¼ í•˜ë‚˜ì”© ì²´í¬í•œë‹¤
    * ì´ì§„ íƒìƒ‰ìœ¼ë¡œ ì™€ì¼ë“œì¹´ë“œ ë¬¸ì ?ë¥¼ ì œì™¸í•œ ì•ŒíŒŒë²³ ì†Œë¬¸ìì˜ ë²”ìœ„ë¥¼ êµ¬í•œë‹¤.

## ì½”ë“œ

### 1ì°¨ì‹œë„(ì‹¤íŒ¨)

```python
def check(word, query):
    if len(word) == len(query):
        wild_length = query.count("?")
        if query[0] == "?":
            if query[wild_length:] == word[wild_length:]:
                return True
        else:
            if query[:-wild_length] == word[:-wild_length]:
                return True

    return False


def solution(words, queries):
    len_q = len(queries)
    answer = [0] * len_q
    for i in range(len_q):
        for j in range(len(words)):
            if check(words[j], queries[i]):
                answer[i] += 1

    return answer
```

* [íŒíŠ¸](https://programmers.co.kr/questions/10218)
    * [Trie ìë£Œêµ¬ì¡°](https://hooongs.tistory.com/28)
    * [Trie ìë£Œêµ¬ì¡°2](https://velog.io/@gojaegaebal/210126-%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%8050%EC%9D%BC%EC%B0%A8-%ED%8A%B8%EB%9D%BC%EC%9D%B4Trie-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EA%B0%9C%EB%85%90-%EB%B0%8F-%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%97%90%EC%84%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0feat.-Class)

---

### 2ì°¨ì‹œë„

* ê¹”ë”í•˜ê²Œ í¬ê¸° ğŸ˜Š. ë™ë¹ˆì¢Œì˜ í’€ì´ë°©ì‹ì„ ì°¸ê³ í•˜ì

* word ë¦¬ìŠ¤íŠ¸ë¥¼ ë‹¨ì–´ ê¸¸ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.
    * ê¸¸ì´ê°€ 5ì¸ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ = ["frodo", "front", "frost", "frame", "kakao"]
    * ê¸¸ì´ê°€ 6ì¸ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ = ["frozen"]


* ê·¸ë¦¬ê³  ê°ê°ì˜ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•œë‹¤.
    * ê¸¸ì´ê°€ 5ì¸ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ = ["frame","frodo", "front", "frost", "kakao"]
    * ê¸¸ì´ê°€ 6ì¸ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ = ["frozen"]


* ì™€ì¼ë“œ ì¹´ë“œì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì„ ë‘ê°€ì§€ë¡œ ë‚˜ëˆˆë‹¤
    1. ì™€ì¼ë“œ ì¹´ë“œê°€ ì ‘ë¯¸ì‚¬ì— ìˆëŠ” ê²½ìš° : ___??
        * ì˜ˆë¥¼ ë“¤ì–´, "fro??"ì— ëŒ€í•´ì„œ
        * **("fro"ë¡œ ì‹œì‘í•˜ëŠ” ë§ˆì§€ë§‰ ë‹¨ì–´ì˜ ìœ„ì¹˜) - ("fro"ë¡œ ì‹œì‘í•˜ëŠ” ì²˜ìŒ ë‹¨ì–´ì˜ ìœ„ì¹˜) = "fro"ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜**
            * "froaa" <= ì°¾ìœ¼ë ¤ëŠ” ë‹¨ì–´ <= "frozz" ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ë¥¼ ì„¸ë„ë¡ í•˜ë©´ ë”ìš± ê°„ë‹¨í•´ì§„ë‹¤.

    2. ì™€ì¼ë“œ ì¹´ë“œê°€ ì ‘ë‘ì‚¬ì— ìˆëŠ” ê²½ìš° : ???__
        * ì˜ˆë¥¼ ë“¤ì–´, "????o"ì— ëŒ€í•´ì„œ "o????"ìœ¼ë¡œ ë’¤ì§‘ì–´ì„œ ìƒê°í•œë‹¤. ([íŒŒì´ì¬ ë¬¸ìì—´ ë’¤ì§‘ê¸°](https://itholic.github.io/python-reverse-string/))
        * **1ë²ˆì˜ ë°©ë²•ì„ ì‚¬ìš©í•˜ë ¤ë©´, ëª¨ë“  ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ì˜ ë‹¨ì–´ë“¤ì„ ë’¤ì§‘ëŠ”ë‹¤.**
            * ë’¤ì§‘ì€ ê¸¸ì´ê°€ 5ì¸ ë‹¨ì–´ë¦¬ìŠ¤íŠ¸ = ["emarf","odorf", "tnorf", "tsorf", "oakak"]
        * **("o"ë¡œ ì‹œì‘í•˜ëŠ” ë§ˆì§€ë§‰ ë‹¨ì–´ì˜ ìœ„ì¹˜) - ("o"ë¡œ ì‹œì‘í•˜ëŠ” ì²˜ìŒ ë‹¨ì–´ì˜ ìœ„ì¹˜) = "o"ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜**
            * "oaaaa" <= ì°¾ìœ¼ë ¤ëŠ” ë‹¨ì–´ <= "ozzzz" ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹¨ì–´ë¥¼ ì„¸ë„ë¡í•œë‹¤.

```python
from bisect import bisect_left, bisect_right


def count_by_range(arr, left, right):  # ì´ì§„ íƒìƒ‰ì„ ì´ìš©í•˜ì—¬ ì›í•˜ëŠ” ë‹¨ì–´ì˜ ê°œìˆ˜ë¥¼ ì„¼ë‹¤
    return bisect_right(arr, right) - bisect_left(arr, left)


def solution(words, queries):
    answer = [0] * len(queries)

    for i in range(len(words)):
        len_w = len(words[i])
        array[len_w].append(words[i])
        reversed_array[len_w].append(words[i][::-1])

    for i in range(10001):
        array[i].sort()
        reversed_array[i].sort()

    for i in range(len(queries)):
        query = queries[i]
        len_q = len(query)

        if query[0] == "?":  # ì ‘ë‘ì‚¬ê°€ ì™€ì¼ë“œ ì¹´ë“œì¸ ê²½ìš° : ??___
            query = query[::-1]  # ___?? í˜•íƒœë¡œ ë’¤ì§‘ëŠ”ë‹¤
            n_array = reversed_array[len_q]  # ë’¤ì§‘ì–´ì§„ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë‹´ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤
        else:  # ì ‘ë¯¸ì‚¬ê°€ ì™€ì¼ë“œ ì¹´ë“œì¸ ê²½ìš° : ___??
            n_array = array[len_q]  # ì •ìƒì ì¸ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë‹´ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤

        left = query.replace("?", "a")  # ___aa
        right = query.replace("?", "z")  # ___zz
        answer[i] = count_by_range(n_array, left, right)

    return answer


array = [[] for _ in range(10001)]
reversed_array = [[] for _ in range(10001)]
```

`reversed_array[len_w].append(words[i][::-1])`

* íŒŒì´ì¬ì—ì„œ ë¬¸ìì—´ ë’¤ì§‘ëŠ” ë°©ë²• (string = "abcde")
    * string[::-1] ëŠ” "edcba"
        * ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ë¶€í„° 0ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ ì—­ìˆœìœ¼ë¡œ ë°˜í™˜
            * ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ì™€ ì²˜ìŒ ì¸ë±ìŠ¤ëŠ” [::-1] ì²˜ëŸ¼ ìƒëµí•  ìˆ˜ ìˆë‹¤
    * string[3:0:-1] ëŠ” "dcb"
        * 3ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 1ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ ì—­ìˆœìœ¼ë¡œ ë°˜í™˜
    * string[3::-1] ëŠ” "dcba"
        * 3ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 0ë²ˆ ì¸ë±ìŠ¤ê¹Œì§€ ì—­ìˆœìœ¼ë¡œ ë°˜í™˜

`left = query.replace("?", "a")`

* ì™€ì¼ë“œ ì¹´ë“œê°€ ìˆëŠ” ë¶€ë¶„ì€ "a"ë¡œ ëª¨ë‘ ë³€í™˜í•œë‹¤.
    * replaceí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ìƒê° ì—†ì´ ë¬´ì‘ì • ë°˜ë³µë¬¸ìœ¼ë¡œ ë³€í™˜í•˜ë ¤ê³  í–ˆë‹¤.

```
array = [[] for _ in range(10001)]
reversed_array = [[] for _ in range(10001)]
```

* word ë¦¬ìŠ¤íŠ¸ë¥¼ ê°ê°ì˜ ë‹¨ì–´ ê¸¸ì´ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ìœ„í•œ ë°°ì—´
    * array[5]ì—ëŠ” ê¸¸ì´ê°€ 5ì¸ ë‹¨ì–´ë“¤ë§Œ ë‹´ê²¨ìˆë„ë¡ í•œë‹¤.
        * ì¢‹ì€ ì ‘ê·¼ ë°©ì‹ì´ë‹¤. ê¸°ì–µí•´ë‘˜ê²ƒ!

---

## [ëª¨ë²” ë‹µì•ˆ](https://github.com/ndb796/python-for-coding-test/blob/master/15/4.py)

```python
from bisect import bisect_left, bisect_right


# ê°’ì´ [left_value, right_value]ì¸ ë°ì´í„°ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜
def count_by_range(a, left_value, right_value):
    right_index = bisect_right(a, right_value)
    left_index = bisect_left(a, left_value)
    return right_index - left_index


# ëª¨ë“  ë‹¨ì–´ë“¤ì„ ê¸¸ì´ë§ˆë‹¤ ë‚˜ëˆ„ì–´ì„œ ì €ì¥í•˜ê¸° ìœ„í•œ ë¦¬ìŠ¤íŠ¸
array = [[] for _ in range(10001)]
# ëª¨ë“  ë‹¨ì–´ë“¤ì„ ê¸¸ì´ë§ˆë‹¤ ë‚˜ëˆ„ì–´ì„œ ë’¤ì§‘ì–´ ì €ì¥í•˜ê¸° ìœ„í•œ ë¦¬ìŠ¤íŠ¸
reversed_array = [[] for _ in range(10001)]


def solution(words, queries):
    answer = []
    for word in words:  # ëª¨ë“  ë‹¨ì–´ë¥¼ ì ‘ë¯¸ì‚¬ ì™€ì¼ë“œì¹´ë“œ ë°°ì—´, ì ‘ë‘ì‚¬ ì™€ì¼ë“œì¹´ë“œ ë°°ì—´ì— ê°ê° ì‚½ì…
        array[len(word)].append(word)  # ë‹¨ì–´ë¥¼ ì‚½ì…
        reversed_array[len(word)].append(word[::-1])  # ë‹¨ì–´ë¥¼ ë’¤ì§‘ì–´ì„œ ì‚½ì…

    for i in range(10001):  # ì´ì§„ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ê° ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸ ì •ë ¬ ìˆ˜í–‰
        array[i].sort()
        reversed_array[i].sort()

    for q in queries:  # ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì”© í™•ì¸í•˜ë©° ì²˜ë¦¬
        if q[0] != '?':  # ì ‘ë¯¸ì‚¬ì— ì™€ì¼ë“œ ì¹´ë“œê°€ ë¶™ì€ ê²½ìš°
            res = count_by_range(array[len(q)], q.replace('?', 'a'), q.replace('?', 'z'))
        else:  # ì ‘ë‘ì‚¬ì— ì™€ì¼ë“œ ì¹´ë“œê°€ ë¶™ì€ ê²½ìš°
            res = count_by_range(reversed_array[len(q)], q[::-1].replace('?', 'a'), q[::-1].replace('?', 'z'))
        # ê²€ìƒ‰ëœ ë‹¨ì–´ì˜ ê°œìˆ˜ë¥¼ ì €ì¥
        answer.append(res)
    return answer
```